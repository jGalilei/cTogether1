{
  "version": 3,
  "sources": ["../../@uiw/codemirror-extensions-hyper-link/esm/index.js"],
  "sourcesContent": ["import { ViewPlugin, EditorView, Decoration, MatchDecorator, WidgetType } from '@codemirror/view';\nvar pathStr = \"<svg viewBox=\\\"0 0 1024 1024\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\"><path d=\\\"M607.934444 417.856853c-6.179746-6.1777-12.766768-11.746532-19.554358-16.910135l-0.01228 0.011256c-6.986111-6.719028-16.47216-10.857279-26.930349-10.857279-21.464871 0-38.864146 17.400299-38.864146 38.864146 0 9.497305 3.411703 18.196431 9.071609 24.947182l-0.001023 0c0.001023 0.001023 0.00307 0.00307 0.005117 0.004093 2.718925 3.242857 5.953595 6.03853 9.585309 8.251941 3.664459 3.021823 7.261381 5.997598 10.624988 9.361205l3.203972 3.204995c40.279379 40.229237 28.254507 109.539812-12.024871 149.820214L371.157763 796.383956c-40.278355 40.229237-105.761766 40.229237-146.042167 0l-3.229554-3.231601c-40.281425-40.278355-40.281425-105.809861 0-145.991002l75.93546-75.909877c9.742898-7.733125 15.997346-19.668968 15.997346-33.072233 0-23.312962-18.898419-42.211381-42.211381-42.211381-8.797363 0-16.963347 2.693342-23.725354 7.297197-0.021489-0.045025-0.044002-0.088004-0.066515-0.134053l-0.809435 0.757247c-2.989077 2.148943-5.691629 4.669346-8.025791 7.510044l-78.913281 73.841775c-74.178443 74.229608-74.178443 195.632609 0 269.758863l3.203972 3.202948c74.178443 74.127278 195.529255 74.127278 269.707698 0l171.829484-171.880649c74.076112-74.17435 80.357166-191.184297 6.282077-265.311575L607.934444 417.856853z\\\"></path><path d=\\\"M855.61957 165.804257l-3.203972-3.203972c-74.17742-74.178443-195.528232-74.178443-269.706675 0L410.87944 334.479911c-74.178443 74.178443-78.263481 181.296089-4.085038 255.522628l3.152806 3.104711c3.368724 3.367701 6.865361 6.54302 10.434653 9.588379 2.583848 2.885723 5.618974 5.355985 8.992815 7.309476 0.025583 0.020466 0.052189 0.041956 0.077771 0.062422l0.011256-0.010233c5.377474 3.092431 11.608386 4.870938 18.257829 4.870938 20.263509 0 36.68962-16.428158 36.68962-36.68962 0-5.719258-1.309832-11.132548-3.645017-15.95846l0 0c-4.850471-10.891048-13.930267-17.521049-20.210297-23.802102l-3.15383-3.102664c-40.278355-40.278355-24.982998-98.79612 15.295358-139.074476l171.930791-171.830507c40.179095-40.280402 105.685018-40.280402 145.965419 0l3.206018 3.152806c40.279379 40.281425 40.279379 105.838513 0 146.06775l-75.686796 75.737962c-10.296507 7.628748-16.97358 19.865443-16.97358 33.662681 0 23.12365 18.745946 41.87062 41.87062 41.87062 8.048303 0 15.563464-2.275833 21.944801-6.211469 0.048095 0.081864 0.093121 0.157589 0.141216 0.240477l1.173732-1.083681c3.616364-2.421142 6.828522-5.393847 9.529027-8.792247l79.766718-73.603345C929.798013 361.334535 929.798013 239.981676 855.61957 165.804257z\\\"></path></svg>\";\nvar defaultRegexp = /\\b((?:https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*)\\b/gi;\nclass HyperLinkIcon extends WidgetType {\n  constructor(state) {\n    super();\n    this.state = void 0;\n    this.state = state;\n  }\n  eq(other) {\n    return this.state.url === other.state.url && this.state.at === other.state.at;\n  }\n  toDOM() {\n    var wrapper = document.createElement('a');\n    wrapper.href = this.state.url;\n    wrapper.target = '_blank';\n    wrapper.innerHTML = pathStr;\n    wrapper.className = 'cm-hyper-link-icon';\n    wrapper.rel = 'nofollow';\n    var anchor = this.state.anchor && this.state.anchor(wrapper);\n    return anchor || wrapper;\n  }\n}\nfunction hyperLinkDecorations(view, anchor) {\n  var widgets = [];\n  var doc = view.state.doc;\n  var match;\n  while ((match = defaultRegexp.exec(doc.toString())) !== null) {\n    var _from = match.index;\n    var _to = _from + match[0].length;\n    var widget = Decoration.widget({\n      widget: new HyperLinkIcon({\n        at: _to,\n        url: match[0],\n        anchor\n      }),\n      side: 1\n    });\n    widgets.push(widget.range(_to));\n  }\n  return Decoration.set(widgets);\n}\nvar linkDecorator = (regexp, matchData, matchFn, anchor) => new MatchDecorator({\n  regexp: regexp || defaultRegexp,\n  decorate: (add, from, to, match, view) => {\n    var url = match[0];\n    var urlStr = matchFn && typeof matchFn === 'function' ? matchFn(url, match.input, from, to) : url;\n    if (matchData && matchData[url]) {\n      urlStr = matchData[url];\n    }\n    var start = to,\n      end = to;\n    var linkIcon = new HyperLinkIcon({\n      at: start,\n      url: urlStr,\n      anchor\n    });\n    add(from, to, Decoration.mark({\n      class: 'cm-hyper-link-underline'\n    }));\n    add(start, end, Decoration.widget({\n      widget: linkIcon,\n      side: 1\n    }));\n  }\n});\nexport function hyperLinkExtension(_temp) {\n  var {\n    regexp,\n    match,\n    handle,\n    anchor\n  } = _temp === void 0 ? {} : _temp;\n  return ViewPlugin.fromClass(class HyperLinkView {\n    constructor(view) {\n      this.decorator = void 0;\n      this.decorations = void 0;\n      if (regexp) {\n        this.decorator = linkDecorator(regexp, match, handle, anchor);\n        this.decorations = this.decorator.createDeco(view);\n      } else {\n        this.decorations = hyperLinkDecorations(view, anchor);\n      }\n    }\n    update(update) {\n      if (update.docChanged || update.viewportChanged) {\n        if (regexp && this.decorator) {\n          this.decorations = this.decorator.updateDeco(update, this.decorations);\n        } else {\n          this.decorations = hyperLinkDecorations(update.view, anchor);\n        }\n      }\n    }\n  }, {\n    decorations: v => v.decorations\n  });\n}\nexport var hyperLinkStyle = EditorView.baseTheme({\n  '.cm-hyper-link-icon': {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    marginLeft: '0.2ch'\n  },\n  '.cm-hyper-link-icon svg': {\n    display: 'block'\n  },\n  '.cm-hyper-link-underline': {\n    textDecoration: 'underline'\n  }\n});\nexport var hyperLink = [hyperLinkExtension(), hyperLinkStyle];"],
  "mappings": "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",
  "names": []
}
